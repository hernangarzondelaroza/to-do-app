(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),o=n.n(s),r=n(16),a=n.n(r),i=(n(47),n(48),n(49),n(38)),u=(n(50),function(){return Object(c.jsxs)("footer",{className:"footer fixed-bottom",children:["by Hernan Garzon de la Roza",Object(c.jsx)("code",{children:Object(c.jsx)("a",{href:"https://github.com/hernangarzondelaroza/to-do-app",target:"_blank",children:"Link to the code"})})]})}),d=(n(51),function(){return Object(c.jsx)("header",{className:"header",children:"To Do Web App"})}),l=function(e){return Object(c.jsxs)(i.a,{fluid:!0,children:[Object(c.jsx)(d,{}),Object(c.jsx)("p",{children:"Select a user and add or update the different tasks :)"}),Object(c.jsx)("main",{children:e.children}),Object(c.jsx)(u,{})]})},j=n(6),b=(n(52),n(53),n(13)),f=n(10),h=(n(54),n(40)),O=n(21),x=n(22),m=n(39),p=n.n(m).a.create({baseURL:"https://to-do-5ce1b-default-rtdb.firebaseio.com/"}),g=function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,null,[{key:"getTodos",value:function(){try{return p.get("https://to-do-5ce1b-default-rtdb.firebaseio.com/user-tasks.json")}catch(e){throw console.log(e),e}}},{key:"createTodos",value:function(e){try{return p.post("https://to-do-5ce1b-default-rtdb.firebaseio.com/user-tasks.json",e)}catch(t){throw console.log(t),t}}},{key:"updateTodos",value:function(e,t){try{return p.put("https://to-do-5ce1b-default-rtdb.firebaseio.com/user-tasks/".concat(t,".json"),e)}catch(n){throw console.log(n),n}}},{key:"deleteTodos",value:function(e){console.log(e);try{return p.delete("https://to-do-5ce1b-default-rtdb.firebaseio.com/user-tasks/".concat(e.id,".json"),e)}catch(t){throw console.log(t),t}}}]),e}(),v=function(e){var t=e.data,n=e.userList,o=e.userSelected,r=e.close,a=Object(s.useState)([]),i=Object(j.a)(a,2),u=i[0],d=i[1],l=Object(s.useState)(Object.entries(t)),b=Object(j.a)(l,2),f=b[0],O=(b[1],f.map((function(e){return e[1].user_id}))),x=[];Object(s.useEffect)((function(){m(),d(x)}),[]);var m=function(){var e=n.filter((function(e){return O.includes(e)})).find((function(e){return e===o}));o===e&&f.map((function(t){return t[1].user_id===e&&x.push(t)}))};return Object(c.jsx)("ul",{className:"tasks-list",children:u.length?u.map((function(e,t){return Object(c.jsxs)("li",{onClick:function(){return function(e){var t={description:e[1].description,id:e[1].id,state:"to-do"===e[1].state?"done":"to-do",user_id:e[1].user_id};g.updateTodos(t,e[0]),r(),setTimeout((function(){window.location.reload()}),500)}(e)},children:[Object(c.jsx)("span",{className:"task-description",children:e[1].description}),Object(c.jsx)("span",{className:"to-do"===e[1].state?"task-todo":"task-done",children:e[1].state})]},e[1].id)})):Object(c.jsx)(h.a,{variant:"success",children:"No tasks for this user :)"})})},k=n(78),S=function(e){var t=e.show,n=e.close,o=e.userList,r=e.userSelected,a=Object(s.useState)([]),i=Object(j.a)(a,2),u=i[0],d=i[1],l=Object(s.useState)(""),h=Object(j.a)(l,2),O=h[0],x=h[1],m=Object(s.useState)(!1),p=Object(j.a)(m,2),S=p[0],w=p[1];Object(s.useEffect)((function(){g.getTodos().then((function(e){d(e)}))}),[]);var y=function(){var e={description:O,id:Object(k.a)(),state:"to-do",user_id:r};g.createTodos(e),n(),setTimeout((function(){window.location.reload()}),500)};return Object(c.jsxs)(f.a,{show:t,onHide:n,children:[Object(c.jsx)(f.a.Header,{closeButton:!0,children:Object(c.jsx)(f.a.Title,{children:"Tasks list:"})}),Object(c.jsxs)(f.a.Body,{children:[u.data?Object(c.jsx)(v,{data:u.data,userList:o,userSelected:r,close:n}):"",S?Object(c.jsx)("input",{className:"new-task",onChange:function(e){return function(e){x(e.target.value)}(e)},placeholder:"Add new task",maxLength:"50"}):""]}),Object(c.jsxs)(f.a.Footer,{children:[Object(c.jsx)(b.a,{variant:"secondary",onClick:n,children:"Close"}),Object(c.jsx)(b.a,{variant:"primary",onClick:S?function(){y(),w(!1)}:function(){return w(!0)},children:S?"Save New Task":"Create Task"})]})]})},w=function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,null,[{key:"getUsers",value:function(){try{return p.get("https://to-do-5ce1b-default-rtdb.firebaseio.com/users.json")}catch(e){throw console.log(e),e}}},{key:"removeUser",value:function(e){try{return p.delete("https://to-do-5ce1b-default-rtdb.firebaseio.com/users/".concat(e,".json"))}catch(t){throw console.log(t),t}}},{key:"updateUser",value:function(e,t){try{return p.put("https://to-do-5ce1b-default-rtdb.firebaseio.com/users/".concat(t,".json"),e)}catch(n){throw console.log(n),n}}}]),e}(),y=function(e){var t=e.show,n=e.hide,o=e.userInEdition,r=e.elementInEdition,a=Object(s.useState)(""),i=Object(j.a)(a,2),u=i[0],d=i[1];return Object(c.jsxs)(f.a,{show:t,onHide:n,children:[Object(c.jsx)(f.a.Header,{closeButton:!0,children:Object(c.jsx)(f.a.Title,{children:"Edit User"})}),Object(c.jsx)(f.a.Body,{children:Object(c.jsx)("input",{className:"edit-name",placeholder:"Please edit the user name for the user",onChange:function(e){return function(e){d(e.target.value)}(e)}})}),Object(c.jsxs)(f.a.Footer,{children:[Object(c.jsx)(b.a,{variant:"secondary",onClick:n,children:"Close"}),Object(c.jsx)(b.a,{variant:"primary",onClick:function(e){var t={id:o,name:u};w.updateUser(t,r),n(),setTimeout((function(){window.location.reload()}),500)},children:"Save Changes"})]})]})},T=function(e){var t=Object(s.useState)(!1),n=Object(j.a)(t,2),o=n[0],r=n[1],a=Object(s.useState)(""),i=Object(j.a)(a,2),u=i[0],d=i[1],l=Object(s.useState)(Object.entries(e.data)),f=Object(j.a)(l,2),h=f[0],O=f[1],x=Object(s.useState)(!1),m=Object(j.a)(x,2),p=m[0],g=m[1],v=Object(s.useState)(""),k=Object(j.a)(v,2),T=k[0],C=k[1],N=Object(s.useState)(""),E=Object(j.a)(N,2),L=E[0],U=E[1],F=h.map((function(e){return e[1].name}));Object(s.useEffect)((function(){console.log("usersData",h)}),h);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("ul",{className:"users-list",children:h.map((function(e,t){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{className:"user-name",onClick:function(e){return function(e){r(!0),d(e.target.firstChild.nodeValue)}(e)},children:e[1].name}),Object(c.jsxs)("div",{className:"user-actions",children:[Object(c.jsx)(b.a,{variant:"primary",onClick:function(e){return function(e){C(e.target.nextSibling.innerHTML),U(e.target.nextSibling.nextSibling.innerHTML),g(!0)}(e)},children:"Edit User"}),Object(c.jsx)("span",{className:"user-id",children:e[1].id}),Object(c.jsx)("span",{className:"element-id",children:e[0]}),Object(c.jsx)(b.a,{variant:"link",onClick:function(t){return n=e[0],void w.removeUser(n).then((function(e){w.getUsers().then((function(e){var t=Object.entries(e.data);O(t)}))}));var n},children:"Delete User"})]})]},e[1].id)}))}),Object(c.jsx)(y,{show:p,hide:function(){g(!1)},userInEdition:T,elementInEdition:L}),Object(c.jsx)(S,{show:o,close:function(){r(!1)},userList:F,userSelected:u})]})},C=function(e){var t=Object(s.useState)([]),n=Object(j.a)(t,2),o=n[0],r=n[1];return Object(s.useEffect)((function(){w.getUsers().then((function(e){r(e)}))}),[]),Object(c.jsx)(c.Fragment,{children:o.data?Object(c.jsx)(T,{data:o.data}):""})};var N=function(){return Object(c.jsx)(l,{children:Object(c.jsx)(C,{})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),o(e),r(e)}))};a.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root")),E()}},[[76,1,2]]]);
//# sourceMappingURL=main.d03c538c.chunk.js.map